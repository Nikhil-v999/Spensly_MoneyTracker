{% include "header.html" %}

{% from "bootstrap5/form.html" import render_form %}


<div class="container my-4">


<div class="container my-5 pt-4"></div>
<div class="container my-5 pt-4">


  <div class="d-flex justify-content-between align-items-center mb-3">

    <div class="d-flex align-items-center gap-3">
  <a href="{{ url_for('dashboard') }}"
     class="back-btn d-flex align-items-center justify-content-center">
    <i class="fas  fa-arrow-left "></i>
  </a>

  <div>
    <h3 class="mb-0">Set Monthly Budget</h3>
    <p class="text-muted mb-0"> Define a spending limit for this month to stay in control.</p>
  </div>
</div>

  </div>

  <!-- Context Summary (Dashboard-style cards with hover) -->
  <div class="row mb-4">

    <!-- Last Month Budget -->
    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100 dashboard-card">
        <div class="card-body">
          <p class="text-muted mb-1">Last Month Budget</p>
          <h5 class="fw-bold mb-0">
            {% if last_month_budget is not none %}
              ₹{{ "%.2f"|format(last_month_budget) }}
            {% else %}
              —
            {% endif %}
          </h5>
        </div>
      </div>
    </div>

    <!-- Last Month Spent -->
    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100 dashboard-card">
        <div class="card-body">
          <p class="text-muted mb-1">Last Month Spent</p>
          <h5 class="fw-bold mb-0">
            ₹{{ "%.2f"|format(last_month_spent) }}
          </h5>
        </div>
      </div>
    </div>

    <!-- Current Month Spent -->
    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100 dashboard-card">
        <div class="card-body">
          <p class="text-muted mb-1">Spent This Month</p>
          <h5 class="fw-bold mb-0">
            ₹{{ "%.2f"|format(total_this_month) }}
          </h5>
        </div>
      </div>
    </div>

  </div>

  <!-- Budget Form (NO hover here by design) -->
  <div class="card border-0 shadow-sm">
    <div class="card-body p-4">

<!--                                        &lt;!&ndash;form is there for details &ndash;&gt;-->
<!--                                        {{render_form(form, novalidate=True, button_map={"submit": "primary"}) }}-->


      <form method="POST">
        {{ form.hidden_tag() }}

        <div class="mb-3">
          <label class="form-label">Monthly Budget Amount</label>
          {{ form.amount(class="form-control", placeholder="Enter amount") }}
        </div>

        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-dark">
            Save Budget
          </button>

          <a href="{{ url_for('dashboard') }}"
             class="btn btn-outline-secondary">
            Cancel
          </a>
        </div>

      </form>

    </div>
  </div>

</div>

{% include "footer.html" %}
